<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QuantumSolver: src/bb84/bb84.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo100.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QuantumSolver
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">A little quantum toolset developed using Qiskit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('bb84_8py_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">bb84.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="bb84_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacesrc_1_1bb84_1_1bb84.html">    1</a></span>&#160;<span class="comment">#!/usr/bin/env python3</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"># Author: J. Daniel Escánez</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"># Ingeniería Informática - Universidad de La Laguna</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"># Trabajo Fin de Grado: QuantumSolver</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">from</span> quantum_solver.quantum_solver <span class="keyword">import</span> QuantumSolver</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">from</span> bb84.bb84_algorithm <span class="keyword">import</span> BB84Algorithm</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">import</span> time</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">from</span> halo <span class="keyword">import</span> Halo</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">from</span> numpy.random <span class="keyword">import</span> randint</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">from</span> random <span class="keyword">import</span> SystemRandom, randrange</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">import</span> string</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">from</span> alive_progress <span class="keyword">import</span> alive_bar</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="namespacesrc_1_1bb84_1_1bb84.html#aee8d486e96d48c95fb7b9eb1f69ed915">   18</a></span>&#160;BB84_SIMULATOR = <span class="stringliteral">&#39;BB84 SIMULATOR&#39;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html">   22</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html">BB84</a>:</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#abda025e492deb8203c9de15b3e154546">   24</a></span>&#160;  <span class="keyword">def </span><a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#abda025e492deb8203c9de15b3e154546">__init__</a>(self, token):</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#aa17a0bd81ae94fd525304749e458aa1b">   26</a></span>&#160;    self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#aa17a0bd81ae94fd525304749e458aa1b">bb84_algorithm</a> = <a class="code" href="classsrc_1_1bb84_1_1bb84__algorithm_1_1BB84Algorithm.html">BB84Algorithm</a>()</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a6411acde47b9b1b88c6461a59563b0e1">   28</a></span>&#160;    self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a6411acde47b9b1b88c6461a59563b0e1">token</a> = token</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a07804e362330349beee21c4f43112827">   31</a></span>&#160;  <span class="keyword">def </span><a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a07804e362330349beee21c4f43112827">run</a>(self):</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#adf448a4fd91be76c3a4e72a84696032f">__show_header</a>()</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    </div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">   34</a></span>&#160;    self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">qexecute</a> = <a class="code" href="classsrc_1_1quantum__solver_1_1quantum__solver_1_1QuantumSolver.html">QuantumSolver</a>(self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a6411acde47b9b1b88c6461a59563b0e1">token</a>).get_qexecute()</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#acb278e951c4be2bb9381405867e8cf87">__main_menu</a>()</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#adf448a4fd91be76c3a4e72a84696032f">   38</a></span>&#160;  <span class="keyword">def </span><a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#adf448a4fd91be76c3a4e72a84696032f">__show_header</a>(self):</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    print(<span class="stringliteral">&#39;\n&#39;</span> + BB84_SIMULATOR + <span class="stringliteral">&#39;\n&#39;</span> + <span class="stringliteral">&#39;=&#39;</span> * len(BB84_SIMULATOR) + <span class="stringliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    print(<span class="stringliteral">&#39;A BB84 simulator using Qiskit&#39;</span>)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    print(<span class="stringliteral">&#39;WARNING: The BB84 simulator uses your personal IBM Quantum Experience&#39;</span>)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    print(<span class="stringliteral">&#39;token to access to IBM hardware.&#39;</span>)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    print(<span class="stringliteral">&#39;You can access to your API token or generate another one here:&#39;</span>)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    print(<span class="stringliteral">&#39;https://quantum-computing.ibm.com/account\n&#39;</span>)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    print(<span class="stringliteral">&#39;You can also use the Guest Mode which only allows you to run &#39;</span>)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    print(<span class="stringliteral">&#39;quantum circuits in a local simulator (&quot;aer_simulator&quot;).\n&#39;</span>)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#acb278e951c4be2bb9381405867e8cf87">   49</a></span>&#160;  <span class="keyword">def </span><a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#acb278e951c4be2bb9381405867e8cf87">__main_menu</a>(self):</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#ade48739418eeb5ab773e13768ec35b80">   53</a></span>&#160;        self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#ade48739418eeb5ab773e13768ec35b80">is_selected_backend</a> = self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">qexecute</a>.current_backend != <span class="keywordtype">None</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a506e3300bac125a81cd9eaf486585883">__show_options</a>()</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#adf2e0d5a75aa11f8f81845dff3d51a25">__select_option</a>()</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="keywordflow">except</span> Exception <span class="keyword">as</span> _:</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">pass</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a506e3300bac125a81cd9eaf486585883">   61</a></span>&#160;  <span class="keyword">def </span><a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a506e3300bac125a81cd9eaf486585883">__show_options</a>(self):</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    is_guest_mode = self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">qexecute</a>.is_guest_mode()</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    guest_mode_string = <span class="stringliteral">&#39; (Guest Mode)&#39;</span> <span class="keywordflow">if</span> is_guest_mode <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    len_guest_mode_string = len(guest_mode_string)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    print(<span class="stringliteral">&#39;\n&#39;</span> + BB84_SIMULATOR + guest_mode_string)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    print(<span class="stringliteral">&#39;=&#39;</span> * (len(BB84_SIMULATOR) + len_guest_mode_string) + <span class="stringliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    print(<span class="stringliteral">&#39;[1] See available Backends&#39;</span>)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    print(<span class="stringliteral">&#39;[2] Select Backend&#39;</span>)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#ade48739418eeb5ab773e13768ec35b80">is_selected_backend</a>:</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      print(<span class="stringliteral">&#39;\tCurrent Backend: &#39;</span> + str(self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">qexecute</a>.current_backend))</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#ade48739418eeb5ab773e13768ec35b80">is_selected_backend</a>:</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      print(<span class="stringliteral">&#39;[3] Run Algorithm&#39;</span>)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span> self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#ade48739418eeb5ab773e13768ec35b80">is_selected_backend</a>:</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      print(<span class="stringliteral">&#39;[4] Experimental mode&#39;</span>)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    print(<span class="stringliteral">&#39;[0] Exit\n&#39;</span>)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a8cee48c2a7935f39ae78653cdaf07b42">   78</a></span>&#160;  <span class="keyword">def </span><a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a8cee48c2a7935f39ae78653cdaf07b42">__run_simulation</a>(self):</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    message = str(input(<span class="stringliteral">&#39;[&amp;] Message (string): &#39;</span>))</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    density = float(input(<span class="stringliteral">&#39;[&amp;] Interception Density (float between 0 and 1): &#39;</span>))</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    backend = self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">qexecute</a>.current_backend</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    N_BITS = 6</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    bits_size = len(message) * 5 * N_BITS</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    execution_description = str(self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">qexecute</a>.current_backend)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    execution_description += <span class="stringliteral">&#39; with message &quot;&#39;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    execution_description += message + <span class="stringliteral">&#39;&quot; and density &quot;&#39;</span> + str(density) + <span class="stringliteral">&#39;&quot;&#39;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    halo_text = <span class="stringliteral">&#39;Running BB84 simulation in &#39;</span> + execution_description</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    halo = Halo(text=halo_text, spinner=<span class="stringliteral">&quot;dots&quot;</span>)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      halo.start()</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      start_time = time.time()</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#aa17a0bd81ae94fd525304749e458aa1b">bb84_algorithm</a>.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a07804e362330349beee21c4f43112827">run</a>(message, backend, bits_size, density, N_BITS, <span class="keyword">True</span>)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      time_ms = (time.time() - start_time) * 1000</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      halo.succeed()</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      print(<span class="stringliteral">&#39;  BB84 simulation runned in&#39;</span>, str(time_ms), <span class="stringliteral">&#39;ms&#39;</span>)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> exception:</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      halo.fail()</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      print(<span class="stringliteral">&#39;Exception:&#39;</span>, exception)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#afcaf6aeaeca04f34c3090a8aee1e7d69">  101</a></span>&#160;  <span class="keyword">def </span><a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#afcaf6aeaeca04f34c3090a8aee1e7d69">__experimental_mode</a>(self, len_msg_limit=5, density_step=0.05, repetition_instance=10):</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    DENSITY_MIN = 0</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    DENSITY_MAX = 1</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    DENSITY_RANGE = int((DENSITY_MAX - DENSITY_MIN) / density_step)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    backend = self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">qexecute</a>.current_backend</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    possible_chars = string.ascii_lowercase + string.ascii_uppercase + string.digits</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    image = np.zeros((DENSITY_RANGE + 1, len_msg_limit))</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    x = list(range(1, len_msg_limit + 1, 1))</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    y = list(np.arange(0, 1 + density_step, density_step))</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    start_time = time.time()</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    print(<span class="stringliteral">&#39;\nRunning BB84 Simulator Experiment (in &#39;</span> + str(backend) + <span class="stringliteral">&#39;):&#39;</span>)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keyword">with</span> alive_bar(len(x) * len(y) * repetition_instance) <span class="keyword">as</span> bar:</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">for</span> j, density <span class="keywordflow">in</span> enumerate(y):</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;          <span class="keywordflow">for</span> i, len_message <span class="keywordflow">in</span> enumerate(x):</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(repetition_instance):</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;              message = <span class="stringliteral">&#39;&#39;</span>.join(SystemRandom().choice(possible_chars) <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(len_message))</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;              bits_size = len(message) * 5</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;              flag = self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#aa17a0bd81ae94fd525304749e458aa1b">bb84_algorithm</a>.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a07804e362330349beee21c4f43112827">run</a>(message, backend, bits_size, density, 1, <span class="keyword">False</span>)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;              image[j][i] += 1 <span class="keywordflow">if</span> flag <span class="keywordflow">else</span> 0</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;              bar()</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;          </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> exception:</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      print(<span class="stringliteral">&#39;Exception:&#39;</span>, exception)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    time_m = (time.time() - start_time)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    print(<span class="stringliteral">&#39;\n[$] Experiment Finished in &#39;</span> + str(time_m) + <span class="stringliteral">&#39; s!&#39;</span>)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    print(<span class="stringliteral">&#39;\n💡 Output:\n\nx: &#39;</span> + str(x) + <span class="stringliteral">&#39;\n\ny: &#39;</span> + str(y))</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    print(<span class="stringliteral">&#39;\nImage:\n&#39;</span> + str(image) + <span class="stringliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    plt.figure(num=<span class="stringliteral">&#39;BB84 Simulator - Experimental Mode&#39;</span> + str(backend))</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    plt.pcolormesh(x, y, image, cmap=<span class="stringliteral">&#39;inferno&#39;</span>, shading=<span class="stringliteral">&#39;auto&#39;</span>)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    plt.colorbar(label=<span class="stringliteral">&#39;Times the protocol is determined safe&#39;</span>)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    plt.xlabel(<span class="stringliteral">&#39;Message Length (number of bits)&#39;</span>)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    plt.ylabel(<span class="stringliteral">&#39;Interception Density&#39;</span>)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    plt.show()</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  </div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#adf2e0d5a75aa11f8f81845dff3d51a25">  139</a></span>&#160;  <span class="keyword">def </span><a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#adf2e0d5a75aa11f8f81845dff3d51a25">__select_option</a>(self):</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    option = int(input(<span class="stringliteral">&#39;[&amp;] Select an option: &#39;</span>))</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> option == 0:</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      print()</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      exit(0)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">elif</span> option == 1:</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">qexecute</a>.print_avaiable_backends()</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">elif</span> option == 2:</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">qexecute</a>.select_backend()</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">elif</span> option == 3 <span class="keywordflow">and</span> self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#ade48739418eeb5ab773e13768ec35b80">is_selected_backend</a>:</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a8cee48c2a7935f39ae78653cdaf07b42">__run_simulation</a>()</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">elif</span> option == 4 <span class="keywordflow">and</span> self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#ade48739418eeb5ab773e13768ec35b80">is_selected_backend</a>:</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      len_msg_limit = int(input(<span class="stringliteral">&#39;[&amp;] Specify maximum message length (number of bits): &#39;</span>))</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      density_step = float(input(<span class="stringliteral">&#39;[&amp;] Specify density step: &#39;</span>))</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      repetition_instance = int(input(<span class="stringliteral">&#39;[&amp;] Specify number of repetitions for each instance: &#39;</span>))</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordflow">if</span> len_msg_limit &lt;= 0:</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Maximum message length must be positive (&gt; 0)&#39;</span>)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">elif</span> repetition_instance &lt;= 0:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Number of repetitions for each instance must be positive (&gt; 0)&#39;</span>)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keywordflow">elif</span> density_step &lt; 0 <span class="keywordflow">or</span> density_step &gt; 1:</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Density step must be between 0 and 1 (∈ [0, 1])&#39;</span>)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">if</span> 1.0 % density_step != 0:</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;          density_step = 1 / round(1 / density_step)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        self.<a class="code" href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#afcaf6aeaeca04f34c3090a8aee1e7d69">__experimental_mode</a>(len_msg_limit, density_step, repetition_instance)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      print(<span class="stringliteral">&#39;[!] Invalid option, try again&#39;</span>)</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_a7fb8deb896b3ce602603da1a4c0a3184"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a7fb8deb896b3ce602603da1a4c0a3184">src.bb84.bb84.BB84.qexecute</a></div><div class="ttdeci">qexecute</div><div class="ttdoc">A QExecute instance to execute the simulation.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00034">bb84.py:34</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_a506e3300bac125a81cd9eaf486585883"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a506e3300bac125a81cd9eaf486585883">src.bb84.bb84.BB84.__show_options</a></div><div class="ttdeci">def __show_options(self)</div><div class="ttdoc">Main menu.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00061">bb84.py:61</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_afcaf6aeaeca04f34c3090a8aee1e7d69"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#afcaf6aeaeca04f34c3090a8aee1e7d69">src.bb84.bb84.BB84.__experimental_mode</a></div><div class="ttdeci">def __experimental_mode(self, len_msg_limit=5, density_step=0.05, repetition_instance=10)</div><div class="ttdoc">Run an experiment of BB84 simulation.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00101">bb84.py:101</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_adf448a4fd91be76c3a4e72a84696032f"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#adf448a4fd91be76c3a4e72a84696032f">src.bb84.bb84.BB84.__show_header</a></div><div class="ttdeci">def __show_header(self)</div><div class="ttdoc">Print header.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00038">bb84.py:38</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84__algorithm_1_1BB84Algorithm_html"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84__algorithm_1_1BB84Algorithm.html">src.bb84.bb84_algorithm.BB84Algorithm</a></div><div class="ttdoc">An implementation of the BB84 protocol.</div><div class="ttdef"><b>Definition:</b> <a href="bb84__algorithm_8py_source.html#l00016">bb84_algorithm.py:16</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_a6411acde47b9b1b88c6461a59563b0e1"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a6411acde47b9b1b88c6461a59563b0e1">src.bb84.bb84.BB84.token</a></div><div class="ttdeci">token</div><div class="ttdoc">The IBMQ Experience token.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00028">bb84.py:28</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_abda025e492deb8203c9de15b3e154546"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#abda025e492deb8203c9de15b3e154546">src.bb84.bb84.BB84.__init__</a></div><div class="ttdeci">def __init__(self, token)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00024">bb84.py:24</a></div></div>
<div class="ttc" id="aclasssrc_1_1quantum__solver_1_1quantum__solver_1_1QuantumSolver_html"><div class="ttname"><a href="classsrc_1_1quantum__solver_1_1quantum__solver_1_1QuantumSolver.html">src.quantum_solver.quantum_solver.QuantumSolver</a></div><div class="ttdoc">Main Class of QuantumSolver.</div><div class="ttdef"><b>Definition:</b> <a href="quantum__solver_8py_source.html#l00018">quantum_solver.py:18</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_ade48739418eeb5ab773e13768ec35b80"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#ade48739418eeb5ab773e13768ec35b80">src.bb84.bb84.BB84.is_selected_backend</a></div><div class="ttdeci">is_selected_backend</div><div class="ttdoc">If a current backend has been selected.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00053">bb84.py:53</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_a8cee48c2a7935f39ae78653cdaf07b42"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a8cee48c2a7935f39ae78653cdaf07b42">src.bb84.bb84.BB84.__run_simulation</a></div><div class="ttdeci">def __run_simulation(self)</div><div class="ttdoc">Run BB84 simulation once.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00078">bb84.py:78</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_adf2e0d5a75aa11f8f81845dff3d51a25"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#adf2e0d5a75aa11f8f81845dff3d51a25">src.bb84.bb84.BB84.__select_option</a></div><div class="ttdeci">def __select_option(self)</div><div class="ttdoc">Select the option for main menu.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00139">bb84.py:139</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_aa17a0bd81ae94fd525304749e458aa1b"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#aa17a0bd81ae94fd525304749e458aa1b">src.bb84.bb84.BB84.bb84_algorithm</a></div><div class="ttdeci">bb84_algorithm</div><div class="ttdoc">The implemented protocol.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00026">bb84.py:26</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_acb278e951c4be2bb9381405867e8cf87"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#acb278e951c4be2bb9381405867e8cf87">src.bb84.bb84.BB84.__main_menu</a></div><div class="ttdeci">def __main_menu(self)</div><div class="ttdoc">Loop to run the main menu.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00049">bb84.py:49</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html">src.bb84.bb84.BB84</a></div><div class="ttdoc">Main class of BB84 Simulator.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00022">bb84.py:22</a></div></div>
<div class="ttc" id="aclasssrc_1_1bb84_1_1bb84_1_1BB84_html_a07804e362330349beee21c4f43112827"><div class="ttname"><a href="classsrc_1_1bb84_1_1bb84_1_1BB84.html#a07804e362330349beee21c4f43112827">src.bb84.bb84.BB84.run</a></div><div class="ttdeci">def run(self)</div><div class="ttdoc">Print header, get an QExecute and run main menu.</div><div class="ttdef"><b>Definition:</b> <a href="bb84_8py_source.html#l00031">bb84.py:31</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_effbd31edf840aa7ff570515b77b84ef.html">bb84</a></li><li class="navelem"><a class="el" href="bb84_8py.html">bb84.py</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
