{"ast":null,"code":"var _jsxFileName = \"/home/andrea/Documentos/TFG/quantum-solver/quantum_solver_web/src/pages/OutputPage.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = process.env.REACT_APP_API;\nexport function OutputPage() {\n  _s();\n\n  const navigate = useNavigate();\n  const [state, setState] = useState({\n    'algorithm': '',\n    'backend': '',\n    'params': '',\n    'output': '',\n    'image_base64': '',\n    'err': false\n  });\n\n  const goToMenu = () => {\n    navigate('/menu', {\n      replace: true\n    });\n  };\n\n  useEffect(() => {\n    (async () => {\n      const token = window.sessionStorage.getItem('token') || '';\n      const output_result = await fetch(`${API}/get-output`, {\n        method: 'GET',\n        headers: {\n          token\n        }\n      });\n      const getter_result = await fetch(`${API}/get-backend-algorithm-params`, {\n        method: 'GET',\n        headers: {\n          token\n        }\n      });\n      const output_data = await output_result.json();\n      console.log('Output:', output_data);\n      const getter_data = await getter_result.json();\n      setState({ ...output_data,\n        ...getter_data\n      });\n    })();\n  }, []);\n  const output = state['output'];\n  const imageBase64 = state['err'] ? '' : 'data:image/png;base64,' + state['image_base64'];\n  const figure_name = 'figure-' + state['backend'] + '-' + state['algorithm'] + '-' + state['params'] + '.png';\n\n  const copyOutput = () => {\n    navigator.clipboard.writeText(output);\n    alert('[$] Copied output (' + output + ') to clipboard');\n  };\n\n  const showFigure = () => {\n    if (!state['err']) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Figure:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imageBase64,\n            alt: \"Figure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            download: figure_name,\n            href: imageBase64,\n            children: \"Download figure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  const showCopyButton = () => {\n    if (!state['err']) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: copyOutput,\n        children: \"Copy output\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [showFigure(), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: (state['err'] ? 'Error: ' : 'Output: ') + output\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), showCopyButton(), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button\",\n      id: \"backBtn\",\n      onClick: goToMenu,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OutputPage, \"GNkfGWf+WItZrqVEl1+G8xZG2mM=\", false, function () {\n  return [useNavigate];\n});\n\n_c = OutputPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"OutputPage\");","map":{"version":3,"sources":["/home/andrea/Documentos/TFG/quantum-solver/quantum_solver_web/src/pages/OutputPage.tsx"],"names":["React","useState","useEffect","useNavigate","API","process","env","REACT_APP_API","OutputPage","navigate","state","setState","goToMenu","replace","token","window","sessionStorage","getItem","output_result","fetch","method","headers","getter_result","output_data","json","console","log","getter_data","output","imageBase64","figure_name","copyOutput","navigator","clipboard","writeText","alert","showFigure","showCopyButton"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {useNavigate} from \"react-router-dom\";\n\nconst API = process.env.REACT_APP_API;\n\nexport function OutputPage() {\n  const navigate = useNavigate();\n  const [state, setState] = useState({\n    'algorithm': '',\n    'backend': '',\n    'params': '',\n    'output': '',\n    'image_base64': '',\n    'err': false\n  });\n  const goToMenu = () => {\n    navigate('/menu', {replace: true});\n  }\n  useEffect(() => { \n    (async () => {\n      const token = window.sessionStorage.getItem('token') || '';\n      const output_result = await fetch(`${API}/get-output`, {\n        method: 'GET',\n        headers: {token}\n      });\n      const getter_result = await fetch(`${API}/get-backend-algorithm-params`, {\n        method: 'GET',\n        headers: {token}\n      });\n      const output_data = await output_result.json();\n      console.log('Output:', output_data);\n      const getter_data = await getter_result.json();\n      setState({...output_data, ...getter_data});\n    })();\n  }, []);\n  const output = state['output'];\n  const imageBase64 = state['err'] ?\n      '' : 'data:image/png;base64,' + state['image_base64'];\n  const figure_name = 'figure-' + state['backend'] + '-' + state['algorithm'] +\n      '-' + state['params'] + '.png';\n  const copyOutput = () => {\n    navigator.clipboard.writeText(output);\n    alert('[$] Copied output (' + output + ') to clipboard');\n  };\n  const showFigure = () => {\n    if (!state['err']) {\n      return (\n        <div>\n          <div>\n            <h2>Figure:</h2>\n            <img src={imageBase64} alt='Figure'></img>\n          </div>\n          <h3>\n            <a download={figure_name} href={imageBase64}>Download figure</a>\n          </h3>\n        </div>\n      );\n    }\n  };\n  const showCopyButton = () => {\n    if (!state['err']) {\n      return (\n        <button className='button' onClick={copyOutput}>Copy output</button>\n      );\n    }\n  };\n  return (\n    <div>\n      {showFigure()}\n      <div>\n        <h1>{(state['err'] ? 'Error: ' : 'Output: ') + output}</h1>\n      </div>\n      {showCopyButton()}\n      <button className='button' id='backBtn' onClick={goToMenu}>\n        <span>Back</span>\n      </button>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}